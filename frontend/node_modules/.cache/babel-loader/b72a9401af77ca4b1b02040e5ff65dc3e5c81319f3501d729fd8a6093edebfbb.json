{"ast":null,"code":"/*import { Link } from \"react-router-dom\"\r\n\r\nconst EVENTS = [\r\n    {id: 'e1', title: 'Event 1'},\r\n    {id: 'e2', title: 'Event 2'},\r\n    {id: 'e3', title: 'Event 3'},\r\n    {id: 'e4', title: 'Event 4'},\r\n    {id: 'e5', title: 'Event 5'},\r\n]\r\n\r\nexport default function EventsPage() {\r\n    return (\r\n        <>\r\n            <h1>EventsPage</h1>\r\n            <ul>\r\n                {EVENTS.map(event => \r\n                 <li key={event.id}>\r\n                    <Link to={`/events/${event.id}`}>{event.title}</Link>\r\n                 </li>\r\n                )}\r\n\r\n            </ul>\r\n            \r\n        </>\r\n    )\r\n}*/import{Suspense}from'react';import EventsList from'../components/EventsList';import{useLoaderData,json,defer,Await}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";function EventsPage(){const{events}=useLoaderData();//   if(data.isError) {\n//     return <p>{data.message}</p>\n//   }\nreturn/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center'},children:\"Loading...\"}),children:/*#__PURE__*/_jsx(Await,{resolve:events,children:loadedEvents=>/*#__PURE__*/_jsx(EventsList,{events:loadedEvents})})});}async function loadEvents(){const response=await fetch('https://events-one-pi.vercel.app/events');const resData=await response.json();if(!response.ok){//return {isError: true, message: \"Failed to load data\"}\n//   throw new Response (JSON.stringify({message: \"Failed to load data\"}), {status:500});\nthrow json({message:\"Failed to load data\"},{status:500});}return resData.events;}export function loader(){return defer({events:loadEvents()});}export default EventsPage;","map":{"version":3,"names":["Suspense","EventsList","useLoaderData","json","defer","Await","jsx","_jsx","EventsPage","events","fallback","style","textAlign","children","resolve","loadedEvents","loadEvents","response","fetch","resData","ok","message","status","loader"],"sources":["C:/Users/Nancy/Desktop/Development/adv-starting-project/12-adv-starting-project/frontend/src/pages/EventsPage.js"],"sourcesContent":["/*import { Link } from \"react-router-dom\"\r\n\r\nconst EVENTS = [\r\n    {id: 'e1', title: 'Event 1'},\r\n    {id: 'e2', title: 'Event 2'},\r\n    {id: 'e3', title: 'Event 3'},\r\n    {id: 'e4', title: 'Event 4'},\r\n    {id: 'e5', title: 'Event 5'},\r\n]\r\n\r\nexport default function EventsPage() {\r\n    return (\r\n        <>\r\n            <h1>EventsPage</h1>\r\n            <ul>\r\n                {EVENTS.map(event => \r\n                 <li key={event.id}>\r\n                    <Link to={`/events/${event.id}`}>{event.title}</Link>\r\n                 </li>\r\n                )}\r\n\r\n            </ul>\r\n            \r\n        </>\r\n    )\r\n}*/\r\n\r\n\r\nimport { Suspense } from 'react';\r\nimport EventsList from '../components/EventsList';\r\nimport { useLoaderData, json, defer, Await } from 'react-router-dom';\r\n\r\nfunction EventsPage() {\r\n  const {events} = useLoaderData();\r\n  \r\n//   if(data.isError) {\r\n//     return <p>{data.message}</p>\r\n//   }\r\n  return (\r\n    <Suspense \r\n      fallback={<p style={{textAlign: 'center'}}>Loading...</p>}>\r\n      <Await resolve={events}>\r\n      {(loadedEvents) => <EventsList events={loadedEvents}/> }\r\n      </Await>\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nasync function loadEvents() {\r\n  const response = await fetch('https://events-one-pi.vercel.app/events');\r\n  const resData = await response.json();\r\n\r\n    if (!response.ok) {\r\n      //return {isError: true, message: \"Failed to load data\"}\r\n    //   throw new Response (JSON.stringify({message: \"Failed to load data\"}), {status:500});\r\n    throw json({message: \"Failed to load data\" }, {status: 500})\r\n    } \r\n    return resData.events;\r\n}\r\n\r\nexport function loader() {\r\n    return defer({\r\n      events: loadEvents()\r\n    });\r\n}\r\n\r\nexport default EventsPage;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAGA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,OAASC,aAAa,CAAEC,IAAI,CAAEC,KAAK,CAAEC,KAAK,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErE,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,KAAM,CAACC,MAAM,CAAC,CAAGP,aAAa,CAAC,CAAC,CAElC;AACA;AACA;AACE,mBACEK,IAAA,CAACP,QAAQ,EACPU,QAAQ,cAAEH,IAAA,MAAGI,KAAK,CAAE,CAACC,SAAS,CAAE,QAAQ,CAAE,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAE,CAAAA,QAAA,cAC1DN,IAAA,CAACF,KAAK,EAACS,OAAO,CAAEL,MAAO,CAAAI,QAAA,CACrBE,YAAY,eAAKR,IAAA,CAACN,UAAU,EAACQ,MAAM,CAAEM,YAAa,CAAC,CAAC,CAC/C,CAAC,CACA,CAAC,CAEf,CAEA,cAAe,CAAAC,UAAUA,CAAA,CAAG,CAC1B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,yCAAyC,CAAC,CACvE,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAF,QAAQ,CAACd,IAAI,CAAC,CAAC,CAEnC,GAAI,CAACc,QAAQ,CAACG,EAAE,CAAE,CAChB;AACF;AACA,KAAM,CAAAjB,IAAI,CAAC,CAACkB,OAAO,CAAE,qBAAsB,CAAC,CAAE,CAACC,MAAM,CAAE,GAAG,CAAC,CAAC,CAC5D,CACA,MAAO,CAAAH,OAAO,CAACV,MAAM,CACzB,CAEA,MAAO,SAAS,CAAAc,MAAMA,CAAA,CAAG,CACrB,MAAO,CAAAnB,KAAK,CAAC,CACXK,MAAM,CAAEO,UAAU,CAAC,CACrB,CAAC,CAAC,CACN,CAEA,cAAe,CAAAR,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}