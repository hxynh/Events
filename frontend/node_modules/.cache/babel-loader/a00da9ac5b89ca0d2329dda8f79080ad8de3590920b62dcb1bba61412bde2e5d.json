{"ast":null,"code":"import{json,redirect,useRouteLoaderData}from\"react-router-dom\";import EventItem from\"../components/EventItem\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function EventDetailPage(){const data=useRouteLoaderData(\"event-details\").event;return/*#__PURE__*/_jsx(EventItem,{event:data});}export async function loader(_ref){let{request,params}=_ref;const id=params.id;const response=await fetch('https://events-one-pi.vercel.app/events/'+id);if(!response.ok){throw json({message:'Failed to fetch data for selected event'},{status:500});}return response;}export async function action(_ref2){let{request,params}=_ref2;const id=params.id;const response=await fetch('https://events-one-pi.vercel.app/events/'+id,{method:request.method});if(!response.ok){throw json({message:\"Failed to delete event\"},{status:500});}return redirect('/events');}","map":{"version":3,"names":["json","redirect","useRouteLoaderData","EventItem","jsx","_jsx","EventDetailPage","data","event","loader","_ref","request","params","id","response","fetch","ok","message","status","action","_ref2","method"],"sources":["C:/Users/Nancy/Desktop/Development/adv-starting-project/12-adv-starting-project/frontend/src/pages/EventDetailPage.js"],"sourcesContent":["import { json, redirect, useRouteLoaderData } from \"react-router-dom\";\r\nimport EventItem from \"../components/EventItem\";\r\n\r\nexport default function EventDetailPage() {\r\n    const data = useRouteLoaderData(\"event-details\").event;\r\n    return <EventItem event={data}/>\r\n}\r\n\r\nexport async function loader({request, params}){\r\n    const id = params.id;\r\n\r\n    const response = await fetch('https://events-one-pi.vercel.app/events/'+id);\r\n\r\n    if(!response.ok) {\r\n        throw json({message: 'Failed to fetch data for selected event'}, {status: 500});\r\n    }\r\n    return response;\r\n}\r\n\r\nexport async function action ({request, params}) {\r\n    const id = params.id;\r\n    \r\n    const response = await fetch('https://events-one-pi.vercel.app/events/'+id, {method: request.method});\r\n\r\n    if(!response.ok) {\r\n        throw json({message: \"Failed to delete event\"}, {status: 500})\r\n    }\r\n    return redirect('/events');\r\n}"],"mappings":"AAAA,OAASA,IAAI,CAAEC,QAAQ,CAAEC,kBAAkB,KAAQ,kBAAkB,CACrE,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEhD,cAAe,SAAS,CAAAC,eAAeA,CAAA,CAAG,CACtC,KAAM,CAAAC,IAAI,CAAGL,kBAAkB,CAAC,eAAe,CAAC,CAACM,KAAK,CACtD,mBAAOH,IAAA,CAACF,SAAS,EAACK,KAAK,CAAED,IAAK,CAAC,CAAC,CACpC,CAEA,MAAO,eAAe,CAAAE,MAAMA,CAAAC,IAAA,CAAmB,IAAlB,CAACC,OAAO,CAAEC,MAAM,CAAC,CAAAF,IAAA,CAC1C,KAAM,CAAAG,EAAE,CAAGD,MAAM,CAACC,EAAE,CAEpB,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,0CAA0C,CAACF,EAAE,CAAC,CAE3E,GAAG,CAACC,QAAQ,CAACE,EAAE,CAAE,CACb,KAAM,CAAAhB,IAAI,CAAC,CAACiB,OAAO,CAAE,yCAAyC,CAAC,CAAE,CAACC,MAAM,CAAE,GAAG,CAAC,CAAC,CACnF,CACA,MAAO,CAAAJ,QAAQ,CACnB,CAEA,MAAO,eAAe,CAAAK,MAAMA,CAAAC,KAAA,CAAqB,IAAnB,CAACT,OAAO,CAAEC,MAAM,CAAC,CAAAQ,KAAA,CAC3C,KAAM,CAAAP,EAAE,CAAGD,MAAM,CAACC,EAAE,CAEpB,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,0CAA0C,CAACF,EAAE,CAAE,CAACQ,MAAM,CAAEV,OAAO,CAACU,MAAM,CAAC,CAAC,CAErG,GAAG,CAACP,QAAQ,CAACE,EAAE,CAAE,CACb,KAAM,CAAAhB,IAAI,CAAC,CAACiB,OAAO,CAAE,wBAAwB,CAAC,CAAE,CAACC,MAAM,CAAE,GAAG,CAAC,CAAC,CAClE,CACA,MAAO,CAAAjB,QAAQ,CAAC,SAAS,CAAC,CAC9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}